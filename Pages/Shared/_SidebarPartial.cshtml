@using NLI_POS.Models
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

@* -- This is where all menus are configured -- *@

<a class="navbar-brand mb-4 d-block text-center pt-4" asp-page="/Index">
    <img src="~/images/noblelife-white.png" alt="Logo" width="150" class="mx-auto d-block" />
</a>

<hr />
<h4 class="text-center text-white">POINT OF SALE</h4>

<p class="text-center text-info small "><span class="small"><span id="clock"></span></span></p>

<hr />

@if (SignInManager.IsSignedIn(User))
{
    <ul class="nav flex-column mb-auto">
        <li class="nav-item">
            <a href="#" class="nav-link text-success" onclick="showSalesPopup();">
                <i class="fas fa-coins me-2"></i> Today’s Sales
            </a>
        </li>

        <li class="nav-item">
            <a class="nav-link text-white" asp-page="/Index">
                <span class="icon-container"><i class="fas fa-home me-2"></i></span> Home
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link text-white" asp-page="/Dashboard/Index">
                <span class="icon-container"><i class="fa-solid fa-gauge-high me-2"></i></span> Dashboard
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link text-white" asp-page="/Orders/Index">
                <span class="icon-container"><i class="fas fa-cash-register me-2"></i></span> Order
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link text-white" asp-page="/Customers/Index">
                <span class="icon-container"><i class="fas fa-users me-2"></i></span> Customer
            </a>
        </li>

        <!-- Reports Menu -->
        <li class="nav-item">
            <a class="nav-link text-white d-flex justify-content-between align-items-center"
               data-bs-toggle="collapse" data-bs-target="#reportsMenu" role="button" aria-expanded="false">
                <span><span class="icon-container"><i class="fas fa-file-alt me-2"></i></span> Reports</span>
                <i class="fas fa-chevron-down small"></i>
            </a>
            <div class="collapse ps-4 text-nowrap" id="reportsMenu">
                <a class="nav-link text-white" asp-page="/Report/DailySales"><i class="fas fa-calendar-day me-2"></i> Daily Sales</a>
                <a class="nav-link text-white" asp-page="/Report/SalesByDateRange"><i class="fas fa-calendar-week me-2"></i> Sales by Date Range</a>
                <a class="nav-link text-white" asp-page="/Report/MonthlySales"><i class="fas fa-calendar-alt me-2"></i> Monthly Sales</a>
                <a class="nav-link text-white" asp-page="/Report/SalesQuota"><i class="fa-solid fa-bullseye me-2"></i> Sales Quota</a>
            </div>
        </li>

        @if (User.IsInRole("Admin"))
        {
            <!-- Settings Menu -->
            <li class="nav-item">
                <a class="nav-link text-white d-flex justify-content-between align-items-center"
                   data-bs-toggle="collapse" data-bs-target="#settingsMenu" role="button" aria-expanded="false">
                    <span>
                        <span class="icon-container"><i class="fas fa-cogs me-2"></i></span> Settings
                    </span>
                    <i class="fas fa-chevron-down small"></i>
                </a>
                <div class="collapse ps-4" id="settingsMenu">
                    <a class="nav-link text-white" asp-page="/Users/Index"><i class="fas fa-users-cog me-2"></i> Users</a>
                    <a class="nav-link text-white" asp-page="/Offices/Index"><i class="fas fa-laptop-house me-2"></i> Offices</a>
                    <a class="nav-link text-white" asp-page="/Products/Index"><i class="fas fa-grip-horizontal me-2"></i> Products</a>
                    <a class="nav-link text-white" asp-page="/SaleSources/Index"><i class="fas fa-tag me-2"></i> Sales Sources</a>
                    <a class="nav-link text-white" asp-page="/Inventory/Warehouse/Index"><i class="fas fa-boxes me-2"></i> Inventory</a>

                    <!-- Utilities Submenu -->
                    <a class="nav-link text-white d-flex justify-content-between align-items-center" data-bs-toggle="collapse" data-bs-target="#utilitiesMenu" role="button" aria-expanded="false">
                        <span><i class="fas fa-tools me-2"></i> Utilities</span>
                        <i class="fas fa-chevron-down small"></i>
                    </a>
                    <div class="collapse ps-4 text-nowrap" id="utilitiesMenu">
                        <a class="nav-link text-white" asp-page="/Utilities/Countries/Index"><i class="fas fa-globe-asia me-2"></i> Countries</a>
                        <a class="nav-link text-white" asp-page="/Utilities/PaymentMethods/Index"><i class="fas fa-credit-card me-2"></i> Payment Methods</a>
                        <a class="nav-link text-white" asp-page="/Utilities/CustomerClasses/Index"><i class="fas fa-users me-2"></i> Customer Classes</a>
                        <a class="nav-link text-white" asp-page="/Utilities/ProductTypes/Index"><i class="fas fa-tags me-2"></i> Product Types</a>
                        <hr class="bg-light opacity-50 my-2" />
                        <a class="nav-link text-white" href="#" data-bs-toggle="modal" data-bs-target="#changebgModal">
                            <i class="fas fa-brush me-2"></i> Background
                        </a>
                        <!-- Themes Menu -->
                        <!-- Themes Collapsible Submenu -->
                        <a class="nav-link text-white d-flex justify-content-between align-items-center"
                           data-bs-toggle="collapse" data-bs-target="#themesMenu" role="button" aria-expanded="false">
                            <span><i class="fas fa-palette me-2"></i> Themes</span>
                            <i class="fas fa-chevron-down small"></i>
                        </a>
                        <div class="collapse ps-4" id="themesMenu">
                            <a href="#" class="nav-link text-white" onclick="setTheme('default')">
                                <i class="far fa-hand-point-right me-2"></i> Default
                            </a>
                            <a href="#" class="nav-link text-white" onclick="setTheme('pulse')"><i class="far fa-hand-point-right me-2"></i> Pulse</a>
                            <a href="#" class="nav-link text-white" onclick="setTheme('flatly')"><i class="far fa-hand-point-right me-2"></i> Flatly</a>
                            <a href="#" class="nav-link text-white" onclick="setTheme('lumen')"><i class="far fa-hand-point-right me-2"></i> Lumen</a>
                        </div>

                        <a class="nav-link text-white" asp-page="/Utilities/AuditLogs/Index"><i class="fas fa-user-clock me-2"></i> Audit Logs</a>
                        <a class="nav-link text-white" asp-page="/Utilities/Export"><i class="fas fa-sync me-2"></i> Backup</a>

                    </div>
                </div>
            </li>

        }
    </ul>

}
@* <hr /> *@

<!-- Bottom User Menu -->
<div class="mt-auto pt-3 border-top">
    <partial name="_LoginPartial" />
</div>
