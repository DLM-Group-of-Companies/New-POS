@page
@model NLI_POS.Pages.Utilities.ExportModel
@{
    ViewData["Title"] = "Export Table to CSV";
}

<div class="container">
    <div class="bg-white shadow-sm p-4 rounded mx-auto" style="max-width: 600px;">
        <i class="fas fa-window-close fa-2xl text-danger float-end" role="button" title="Close" onclick="window.location = '/';"></i>
        <h4 class="text-primary mb-3"><i class="fas fa-file-export me-2"></i> Export Table to CSV</h4>        
        <hr />
        @if (TempData["Success"] != null)
        {
            <div class="alert alert-success">@TempData["Success"]</div>
        }
        else if (TempData["Error"] != null)
        {
            <div class="alert alert-danger">@TempData["Error"]</div>
        }

        <form method="post" onsubmit="return validateAndShowLoader(this)">
            <div class="mb-3">
                <label for="SelectedTable" class="form-label">Select a table:</label>
                <select asp-for="SelectedTable" class="form-select" required>
                    <option value="">-- Choose Table --</option>
                    @foreach (var table in Model.TableList)
                    {
                        <option value="@table">@table</option>
                    }
                </select>
            </div>
            <button type="submit" class="btn btn-primary"><i class="fas fa-file-csv me-2"></i> Export CSV</button>
        </form>
    </div>
</div>
